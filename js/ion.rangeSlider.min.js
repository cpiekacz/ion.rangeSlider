// Ion.RangeSlider
// version 1.9.0
// https://github.com/cpiekacz/ion.rangeSlider
(function(e,t,n,r){"use strict";var i=0;var s=function(){var e=r.userAgent,t=/msie\s\d+/i,n;if(e.search(t)>0){n=t.exec(e).toString();n=n.split(" ")[1];if(n<9){return true}}return false}();var o=function(){try{t.createEvent("TouchEvent");return true}catch(e){return false}}();var u={init:function(r){var u='<span class="irs">'+'<span class="irs-line"><span class="irs-line-left"></span><span class="irs-line-mid"></span><span class="irs-line-right"></span></span>'+'<span class="irs-min">0</span><span class="irs-max">1</span>'+'<span class="irs-from">0</span><span class="irs-middle">0</span><span class="irs-to">0</span><span class="irs-single">0</span>'+"</span>"+'<span class="irs-grid"></span>';var a='<span class="irs-slider single"></span>';var f='<span class="irs-diapason"></span>'+'<span class="irs-slider from"></span>'+'<span class="irs-slider to"></span>';var l='<span class="irs-diapason"></span>'+'<span class="irs-slider from"></span>'+'<span class="irs-slider middle"></span>'+'<span class="irs-slider to"></span>';return this.each(function(){var c=e.extend({min:10,max:100,from:null,middle:null,to:null,type:"single",step:1,prefix:"",postfix:"",hasGrid:false,hideMinMax:false,hideFromTo:false,prettify:true,dragSliders:false,onChange:null,onLoad:null,onFinish:null},r);var h=e(this),p=this;if(h.data("isActive")){return}h.data("isActive",true);i+=1;this.pluginCount=i;if(h.prop("value")){c.min=parseInt(h.prop("value").split(";")[0],10);c.max=parseInt(h.prop("value").split(";")[1],10)}if(typeof c.from!=="number"){c.from=c.min}if(typeof c.middle!=="number"){c.middle=(c.to-c.from)/2+c.from}if(typeof c.to!=="number"){c.to=c.max}if(typeof h.data("from")==="number"){c.from=parseFloat(h.data("from"))}if(typeof h.data("middle")==="number"){c.middle=parseFloat(h.data("middle"))}if(typeof h.data("to")==="number"){c.to=parseFloat(h.data("to"))}if(h.data("step")){c.step=parseFloat(h.data("step"))}if(h.data("type")){c.type=h.data("type")}if(h.data("prefix")){c.prefix=h.data("prefix")}if(h.data("postfix")){c.postfix=h.data("postfix")}if(h.data("hasgrid")){c.hasGrid=h.data("hasgrid")}if(h.data("hideminmax")){c.hideMinMax=h.data("hideminmax")}if(h.data("hidefromto")){c.hideFromTo=h.data("hidefromto")}if(h.data("prettify")){c.prettify=h.data("prettify")}if(c.from<c.min){c.from=c.min}if(c.to>c.max){c.to=c.max}if(c.type==="double"){if(c.from>c.to){c.from=c.to}if(c.to<c.from){c.to=c.from}}if(c.type==="triple"){if(c.from>c.to){c.from=c.to}if(c.to<c.from){c.to=c.from}if(c.middle>c.to){c.middle=c.to}if(c.middle<c.from){c.middle=c.from}}var d=function(e){var t=e.toString();if(c.prettify){t=t.replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1 ")}return t};var v='<span class="irs" id="irs-'+this.pluginCount+'"></span>';h[0].style.display="none";h.before(v);var m=e("#irs-"+this.pluginCount),g=e(t.body),y=e(n),b,w,E,S,x,T,N,C,k,L,A,O,M,_;var D=false,P=false,H=true,B={};var j=0,F=0,I=0,q=0,R=0,U=0,z=0,W=0,X=0,V=0,J=0;if(parseInt(c.step,10)!==parseFloat(c.step)){J=c.step.toString().split(".")[1];J=Math.pow(10,J.length)}this.updateData=function(t){H=true;c=e.extend(c,t);K()};this.removeSlider=function(){m.find("*").off();y.off("mouseup.irs"+p.pluginCount);g.off("mouseup.irs"+p.pluginCount);g.off("mousemove.irs"+p.pluginCount);m.html("").remove();h.data("isActive",false);h.show()};var K=function(){m.find("*").off();y.off("mouseup.irs"+p.pluginCount);g.off("mouseup.irs"+p.pluginCount);g.off("mousemove.irs"+p.pluginCount);m.html("");Q()};var Q=function(){m.html(u);b=m.find(".irs");w=b.find(".irs-min");E=b.find(".irs-max");S=b.find(".irs-from");x=b.find(".irs-middle");T=b.find(".irs-to");N=b.find(".irs-single");_=m.find(".irs-grid");if(c.hideMinMax){w[0].style.display="none";E[0].style.display="none";F=0;I=0}if(c.hideFromTo){S[0].style.display="none";x[0].style.display="none";T[0].style.display="none";N[0].style.display="none"}if(!c.hideMinMax){w.html(c.prefix+d(c.min)+c.postfix);E.html(c.prefix+d(c.max)+c.postfix);F=w.outerWidth();I=E.outerWidth()}if(c.type==="single"){b.append(a);C=b.find(".single");C.on("mousedown",function(t){t.preventDefault();t.stopPropagation();Y(t,e(this),null);D=true;P=true;if(s){e("*").prop("unselectable",true)}});if(o){C.on("touchstart",function(t){t.preventDefault();t.stopPropagation();Y(t.originalEvent.touches[0],e(this),null);D=true;P=true})}}else if(c.type==="double"){b.append(f);k=b.find(".from");A=b.find(".to");M=b.find(".irs-diapason");Z();k.on("mousedown",function(t){t.preventDefault();t.stopPropagation();e(this).addClass("last");A.removeClass("last");Y(t,e(this),"from");D=true;P=true;if(s){e("*").prop("unselectable",true)}});A.on("mousedown",function(t){t.preventDefault();t.stopPropagation();e(this).addClass("last");k.removeClass("last");Y(t,e(this),"to");D=true;P=true;if(s){e("*").prop("unselectable",true)}});if(o){k.on("touchstart",function(t){t.preventDefault();t.stopPropagation();e(this).addClass("last");A.removeClass("last");Y(t.originalEvent.touches[0],e(this),"from");D=true;P=true});A.on("touchstart",function(t){t.preventDefault();t.stopPropagation();e(this).addClass("last");k.removeClass("last");Y(t.originalEvent.touches[0],e(this),"to");D=true;P=true})}if(c.to===c.max){k.addClass("last")}}else if(c.type==="triple"){b.append(l);k=b.find(".from");L=b.find(".middle");A=b.find(".to");M=b.find(".irs-diapason");Z();var t,n;k.on("mousedown",function(t){t.preventDefault();t.stopPropagation();e(this).addClass("last");A.removeClass("last");Y(t,e(this),"from");D=true;P=true;if(s){e("*").prop("unselectable",true)}});L.on("mousedown",function(r){r.preventDefault();r.stopPropagation();t=e.data(L[0],"x")-e.data(k[0],"x");n=e.data(A[0],"x")-e.data(L[0],"x");e(this).addClass("last");k.removeClass("last");Y(r,e(this),"middle");D=true;P=true;if(s){e("*").prop("unselectable",true)}});A.on("mousedown",function(t){t.preventDefault();t.stopPropagation();e(this).addClass("last");k.removeClass("last");Y(t,e(this),"to");D=true;P=true;if(s){e("*").prop("unselectable",true)}});if(o){k.on("touchstart",function(t){t.preventDefault();t.stopPropagation();e(this).addClass("last");A.removeClass("last");Y(t.originalEvent.touches[0],e(this),"from");D=true;P=true});L.on("touchstart",function(r){r.preventDefault();r.stopPropagation();t=e.data(L[0],"x")-e.data(k[0],"x");n=e.data(A[0],"x")-e.data(L[0],"x");e(this).addClass("last");k.removeClass("last");Y(r.originalEvent.touches[0],e(this),"middle");D=true;P=true});A.on("touchstart",function(t){t.preventDefault();t.stopPropagation();e(this).addClass("last");k.removeClass("last");Y(t.originalEvent.touches[0],e(this),"to");D=true;P=true})}if(c.to===c.max){k.addClass("last")}}var r=function(){if(D){P=false;D=false;O.removeAttr("id");O=null;if(c.type==="double"||c.type==="triple"){Z()}tt();if(s){e("*").prop("unselectable",false)}}};g.on("mouseup.irs"+p.pluginCount,function(){r()});y.on("mouseup.irs"+p.pluginCount,function(){r()});g.on("mousemove.irs"+p.pluginCount,function(r){if(D){if(c.dragSliders&&O.hasClass("middle")){k.css("left",L.position().left-t+"px");A.css("left",L.position().left+n+"px");e.data(k[0],"x",e.data(L[0],"x")-t);e.data(A[0],"x",e.data(L[0],"x")+n)}j=r.pageX;et()}});if(o){y.on("touchend",function(){if(D){P=false;D=false;O.removeAttr("id");O=null;if(c.type==="double"||c.type==="triple"){Z()}tt()}});y.on("touchmove",function(r){if(D){if(c.dragSliders&&O.hasClass("middle")){k.css("left",L.position().left-t+"px");A.css("left",L.position().left+n+"px");e.data(k[0],"x",e.data(L[0],"x")-t);e.data(A[0],"x",e.data(L[0],"x")+n)}j=r.originalEvent.touches[0].pageX;et()}})}G();nt();if(c.hasGrid){it()}};var G=function(){q=b.width();if(C){U=C.width()}else{U=k.width()}R=q-U};var Y=function(e,t,n){G();H=false;O=t;O.attr("id","irs-active-slider");var r=O.offset().left,i=e.pageX-r;V=r+i-O.position().left;if(c.type==="single"){z=b.width()-U}else if(c.type==="double"){if(n==="from"){W=0;X=parseInt(A.css("left"),10)}else{W=parseInt(k.css("left"),10);X=b.width()-U}}else if(c.type==="triple"){if(n==="from"){W=0;X=parseInt(L.css("left"),10)}else if(n==="middle"){if(c.dragSliders){W=parseInt(L.css("left"),10)-parseInt(k.css("left"),10);X=b.width()-U-(parseInt(A.css("left"),10)-parseInt(L.css("left"),10))}else{W=parseInt(k.css("left"),10);X=parseInt(A.css("left"),10)}}else{W=parseInt(L.css("left"),10);X=b.width()-U}}};var Z=function(){var t=k.width(),n=e.data(k[0],"x")||parseInt(k[0].style.left,10)||k.position().left,r=e.data(A[0],"x")||parseInt(A[0].style.left,10)||A.position().left,i=n+t/2,s=r-n;M[0].style.left=i+"px";M[0].style.width=s+"px"};var et=function(){var t=j-V,n;if(c.type==="single"){if(t<0){t=0}if(t>z){t=z}}else if(c.type==="double"){if(t<W){t=W}if(t>X){t=X}Z()}else if(c.type==="triple"){if(t<W){t=W}if(t>X){t=X}Z()}e.data(O[0],"x",t);tt();n=Math.round(t);O[0].style.left=n+"px"};var tt=function(){var t={fromNumber:0,middleNumber:0,toNumber:0,fromPers:0,middlePers:0,toPers:0,fromX:0,middleX:0,toX:0};var n=c.max-c.min,r,i,s;if(c.type==="single"){t.fromX=e.data(C[0],"x")||parseInt(C[0].style.left,10)||C.position().left;t.fromPers=t.fromX/R*100;r=n/100*t.fromPers+parseInt(c.min,10);t.fromNumber=Math.round(r/c.step)*c.step;if(J){t.fromNumber=parseInt(t.fromNumber*J,10)/J}}else if(c.type==="double"){t.fromX=e.data(k[0],"x")||parseInt(k[0].style.left,10)||k.position().left;t.fromPers=t.fromX/R*100;r=n/100*t.fromPers+parseInt(c.min,10);t.fromNumber=Math.round(r/c.step)*c.step;t.toX=e.data(A[0],"x")||parseInt(A[0].style.left,10)||A.position().left;t.toPers=t.toX/R*100;s=n/100*t.toPers+parseInt(c.min,10);t.toNumber=Math.round(s/c.step)*c.step;if(t.toNumber<t.fromNumber)t.toNumber=t.fromNumber;if(J){t.fromNumber=parseInt(t.fromNumber*J,10)/J;t.toNumber=parseInt(t.toNumber*J,10)/J}}else if(c.type==="triple"){t.fromX=e.data(k[0],"x")||parseInt(k[0].style.left,10)||k.position().left;t.fromPers=t.fromX/R*100;r=n/100*t.fromPers+parseInt(c.min,10);t.fromNumber=Math.round(r/c.step)*c.step;t.middleX=e.data(L[0],"x")||parseInt(L[0].style.left,10)||L.position().left;t.middlePers=t.middleX/R*100;i=n/100*t.middlePers+parseInt(c.min,10);t.middleNumber=Math.round(i/c.step)*c.step;t.toX=e.data(A[0],"x")||parseInt(A[0].style.left,10)||A.position().left;t.toPers=t.toX/R*100;s=n/100*t.toPers+parseInt(c.min,10);t.toNumber=Math.round(s/c.step)*c.step;if(t.toNumber<t.fromNumber)t.toNumber=t.fromNumber;if(t.middleNumber<t.fromNumber)t.middleNumber=t.fromNumber;if(J){t.fromNumber=parseInt(t.fromNumber*J,10)/J;t.middleNumber=parseInt(t.middleNumber*J,10)/J;t.toNumber=parseInt(t.toNumber*J,10)/J}}B=t;rt()};var nt=function(){var t={fromNumber:c.from,middleNumber:c.middle,toNumber:c.to,fromPers:0,middlePers:0,toPers:0,fromX:0,fromX_pure:0,middleX:0,middleX_pure:0,toX:0,toX_pure:0};var n=c.max-c.min;if(c.type==="single"){t.fromPers=(t.fromNumber-c.min)/n*100;t.fromX_pure=R/100*t.fromPers;t.fromX=Math.round(t.fromX_pure);C[0].style.left=t.fromX+"px";e.data(C[0],"x",t.fromX_pure)}else if(c.type==="double"){t.fromPers=(t.fromNumber-c.min)/n*100;t.fromX_pure=R/100*t.fromPers;t.fromX=Math.round(t.fromX_pure);k[0].style.left=t.fromX+"px";e.data(k[0],"x",t.fromX_pure);t.toPers=(t.toNumber-c.min)/n*100;t.toX_pure=R/100*t.toPers;t.toX=Math.round(t.toX_pure);A[0].style.left=t.toX+"px";e.data(A[0],"x",t.toX_pure);Z()}else if(c.type==="triple"){t.fromPers=(t.fromNumber-c.min)/n*100;t.fromX_pure=R/100*t.fromPers;t.fromX=Math.round(t.fromX_pure);k[0].style.left=t.fromX+"px";e.data(k[0],"x",t.fromX_pure);t.middlePers=(t.middleNumber-c.min)/n*100;t.middleX_pure=R/100*t.middlePers;t.middleX=Math.round(t.middleX_pure);L[0].style.left=t.middleX+"px";e.data(L[0],"x",t.middleX_pure);t.toPers=(t.toNumber-c.min)/n*100;t.toX_pure=R/100*t.toPers;t.toX=Math.round(t.toX_pure);A[0].style.left=t.toX+"px";e.data(A[0],"x",t.toX_pure);Z()}B=t;rt()};var rt=function(){var e,t,n,r,i,s,o,u,a=U/2;var f=function(e,t){var n=e.outerWidth();var r=t-n/2+a;if(r<0){r=0}if(r>q-n){r=q-n}return{w:n,x:r}};if(c.type==="single"){if(!c.hideText){S[0].style.display="none";x[0].style.display="none";T[0].style.display="none";o=c.prefix+d(B.fromNumber)+c.postfix;N.html(o);u=f(N,B.fromX);N[0].style.left=u.x+"px";if(!c.hideMinMax&&!c.hideFromTo){if(u.x<F){w[0].style.display="none"}else{w[0].style.display="block"}if(u.x+u.w>q-I){E[0].style.display="none"}else{E[0].style.display="block"}}}h.attr("value",parseInt(B.fromNumber,10))}else if(c.type==="double"){if(!c.hideText){x[0].style.display="none";e=c.prefix+d(B.fromNumber)+c.postfix;i=c.prefix+d(B.toNumber)+c.postfix;if(B.fromNumber!==B.toNumber){o=c.prefix+d(B.fromNumber)+c.postfix+" — "+c.prefix+d(B.toNumber)+c.postfix}else{o=c.prefix+d(B.fromNumber)+c.postfix}S.html(e);T.html(i);N.html(o);t=f(S,B.fromX);S[0].style.left=t.x+"px";s=f(T,B.toX);T[0].style.left=s.x+"px";u=f(N,B.fromX);u.x=B.fromX+(B.toX-B.fromX)/2-u.w/2+a;N[0].style.left=u.x+"px";if(t.x+t.w<s.x){N[0].style.display="none";S[0].style.display="block";T[0].style.display="block"}else{N[0].style.display="block";S[0].style.display="none";T[0].style.display="none"}if(!c.hideMinMax&&!c.hideFromTo){if(u.x<F||t.x<F){w[0].style.display="none"}else{w[0].style.display="block"}if(u.x+u.w>q-I||s.x+s.w>q-I){E[0].style.display="none"}else{E[0].style.display="block"}}}}else if(c.type==="triple"){if(!c.hideText){e=c.prefix+d(B.fromNumber)+c.postfix;n=c.prefix+d(B.middleNumber)+c.postfix;i=c.prefix+d(B.toNumber)+c.postfix;S.html(e);x.html(n);T.html(i);N.html(o);t=f(S,B.fromX);r=f(x,B.middleX);s=f(T,B.toX);u=f(N,B.fromX);u.x=B.fromX+(B.toX-B.fromX)/2-u.w/2+a;if(t.x+t.w>=r.x){if(B.fromNumber!==B.middleNumber){e=c.prefix+d(B.fromNumber)+c.postfix+" — "+c.prefix+d(B.middleNumber)+c.postfix;S.html(e);t=f(S,B.fromX)}N[0].style.display="none";S[0].style.display="block";x[0].style.display="none";T[0].style.display="block"}if(r.x+r.w>=s.x){if(B.middleNumber!==B.toNumber){i=c.prefix+d(B.middleNumber)+c.postfix+" — "+c.prefix+d(B.toNumber)+c.postfix;T.html(i);s=f(T,B.toX)}N[0].style.display="none";S[0].style.display="block";x[0].style.display="none";T[0].style.display="block"}if(t.x+t.w<s.x){if(!(t.x+t.w>=r.x||r.x+r.w>=s.x)){N[0].style.display="none";S[0].style.display="block";x[0].style.display="block";T[0].style.display="block"}}else{if(B.fromNumber!==B.toNumber){o=c.prefix+d(B.fromNumber)+c.postfix;if(B.fromNumber!==B.middleNumber&&B.middleNumber!==B.toNumber){o+=" — "+c.prefix+d(B.fromNumber)+c.postfix}o+=" — "+c.prefix+d(B.toNumber)+c.postfix}else{o=c.prefix+d(B.fromNumber)+c.postfix}N[0].style.display="block";S[0].style.display="none";x[0].style.display="none";T[0].style.display="none"}S.html(e);x.html(n);T.html(i);N.html(o);t=f(S,B.fromX);s=f(T,B.toX);S[0].style.left=t.x+"px";x[0].style.left=r.x+"px";T[0].style.left=s.x+"px";N[0].style.left=u.x+"px";if(!c.hideMinMax&&!c.hideFromTo){if(u.x<F||t.x<F){w[0].style.display="none"}else{w[0].style.display="block"}if(u.x+u.w>q-I||s.x+s.w>q-I){E[0].style.display="none"}else{E[0].style.display="block"}}}h.attr("value",parseInt(B.fromNumber,10)+";"+parseInt(B.middleNumber,10)+";"+parseInt(B.toNumber,10))}if(typeof c.onChange==="function"){c.onChange.call(this,B)}if(typeof c.onFinish==="function"&&!P&&!H){c.onFinish.call(this,B)}if(typeof c.onLoad==="function"&&!P&&H){c.onLoad.call(this,B)}};var it=function(){m.addClass("irs-with-grid");var e,t="",n=0,r=0,i="",s=20,o=4;for(e=0;e<=s;e+=1){n=Math.floor(q/s*e);if(n>=q){n=q-1}i+='<span class="irs-grid-pol small" style="left: '+n+'px;"></span>'}for(e=0;e<=o;e+=1){n=Math.floor(q/o*e);if(n>=q){n=q-1}i+='<span class="irs-grid-pol" style="left: '+n+'px;"></span>';if(J){t=c.min+(c.max-c.min)/o*e;t=t/c.step*c.step;t=parseInt(t*J,10)/J}else{t=Math.round(c.min+(c.max-c.min)/o*e);t=Math.round(t/c.step)*c.step;t=d(t)}if(e===0){r=n;i+='<span class="irs-grid-text" style="left: '+r+'px; text-align: left;">'+t+"</span>"}else if(e===o){r=n-100;i+='<span class="irs-grid-text" style="left: '+r+'px; text-align: right;">'+t+"</span>"}else{r=n-50;i+='<span class="irs-grid-text" style="left: '+r+'px;">'+t+"</span>"}}_.html(i)};Q()})},update:function(e){return this.each(function(){this.updateData(e)})},remove:function(){return this.each(function(){this.removeSlider()})}};e.fn.ionRangeSlider=function(t){if(u[t]){return u[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||!t){return u.init.apply(this,arguments)}else{e.error("Method "+t+" does not exist for jQuery.ionRangeSlider")}}})(jQuery,document,window,navigator)